# --------- ALIASES ------------#

# function that will check whether the alias declaration in $1 uses a valid command
function calias () {
	cmd=$(echo "$1" | cut -d '=' -f 2 | awk '{ print $1 }')
	if [ "$(command -v $cmd)" ]; then
		alias "$1"
	fi
}


# better defaults
calias ip='ip --color'
calias less='less -R -~'
calias gdb='gdb -q'
calias python3='python3 -q'
calias python='python -q'
calias calcurse='calcurse -D ~/.config/calcurse'
calias grep='grep --color=auto'

if [ "$(uname --machine)" = "x86_64" ]; then
	calias objdump='objdump -M intel'
fi

# use different command
calias ranger=ranger-cd
calias vim=nvim

# shortcut whole command
calias yl='youtube-dl'
calias za='zathura'

# shortcut command with args
calias ec='emacsclient --c'
calias em='emacsclient -nw'
calias wgetr='wget --recursive --no-parent --continue'
calias wgetreg='wget --recursive --no-parent --continue --accept-regex'
calias linkgrep='grep -oP --color=never "http.?://\S+"'
calias icat='kitty +kitten icat'
calias kssh='kitty +kitten ssh'
calias scb='kitty +kitten clipboard'
calias gcb='kitty +kitten clipboard --get-clipboard'
calias fumount='fusermount -u'
calias findcdef='cscope -R -L1'
calias spanisch='trans -t es'
calias englisch='trans -t en'
calias deutsch='trans -t de'
calias polnisch='trans -t pl'
calias xs='xsel -b'

# new commands
calias mountandroid='jmtpfs /media/android'
calias umountandroid='fumount /media/android'
calias batstat='upower -i /org/freedesktop/UPower/devices/battery_BAT0'
# for dotfiles, see https://news.ycombinator.com/item?id=11071754
# to clone:  git clone --separate-git-dir=~/.cfg _repo_ ~
# or git clone _repo_ && cp dotfiles/.git ~/.cfg
calias dotf='git --git-dir=$HOME/.cfg/ --work-tree=$HOME'
calias grnvs='ssh grnvs@svm0000.net.in.tum.de && ssh root@svm0564.net.in.tum.de'
calias s4="cd ~/University/Semester_4"
calias speedtest='wget --report-speed=bits -O /dev/null http://speedtest.belwue.net/1000G'

# unchecked, TODO: add checks
alias zitat="printf 'http://zitate.net/zitat\?id\=%s' \$(shuf -i 0-1000 -n 1) | xargs curl --silent -r 0-10 | sed -e 's/</\n/g' | sed -n '/description/p' | sed 1q | cut -d '\"' -f 4 | head -c -20"
alias winenoin='sudo -g nointernet WINEPREFIX=$HOME/.wnointernet wine'
alias wine64noin='sudo -g nointernet WINEPREFIX=$HOME/.wnointernet wine64'

alias sdrescan='echo 1 | sudo tee /sys/bus/pci/rescan'
alias vimr='fzf | xargs -r vim'


# shell related
alias rmcdir='cd ..; rmdir $OLDPWD || cd $OLDPWD'
alias ...='cd ../../'

# listing stuff, from grml
alias ls="ls -v --color=auto"
alias la="ls -la"
alias ll="ls -l"
alias lh="ls -hAl"
alias l="ls -l"
#a2# Execute \kbd{ls -lSrah}
alias dir="ls -lSrah"
#a2# Only show dot-directories
alias lad='ls -d .*(/)'
#a2# Only show dot-files
alias lsa='ls -a .*(.)'
#a2# Only files with setgid/setuid/sticky flag
alias lss='ls -l *(s,S,t)'
#a2# Only show symlinks
alias lsl='ls -l *(@)'
#a2# Display only executables
alias lsx='ls -l *(*)'
#a2# Display world-{readable,writable,executable} files
alias lsw='ls -ld *(R,W,X.^ND/)'
#a2# Display the ten biggest files
alias lsbig="ls -flh *(.OL[1,10])"
#a2# Only show directories
alias lsd='ls -d *(/)'
#a2# Only show empty directories
alias lse='ls -d *(/^F)'
#a2# Display the ten newest files
alias lsnew="ls -rtlh *(D.om[1,10])"
#a2# Display the ten oldest files
alias lsold="ls -rtlh *(D.Om[1,10])"
#a2# Display the ten smallest files
alias lssmall="ls -Srl *(.oL[1,10])"
#a2# Display the ten newest directories and ten newest .directories
alias lsnewdir="ls -rthdl *(/om[1,10]) .*(D/om[1,10])"
#a2# Display the ten oldest directories and ten oldest .directories
alias lsolddir="ls -rthdl *(/Om[1,10]) .*(D/Om[1,10])"
